<!DOCTYPE html>
<html>

<head>
	<title>Parcel Sandbox</title>
	<meta charset="UTF-8" />

	<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
	<script src="https://unpkg.com/clipboard@2/dist/clipboard.min.js"></script>
	<script src="./js/Clip.js"></script>
	<script type="text/javascript"
		src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
	<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
</head>

<body>
	<!-- Triggers -->
	<ul>
		<li>
			<button class="btn" data-id="text">
				Copy Text
			</button>
		</li>
		<li>
			<button class="btn" id="wowowowo" data-id="array">
				Copy Array
			</button>
		</li>
		<li>
			<button id="nununu">
				Copy Template literal
			</button>
		</li>
		<li>
			<button id="open">
				open
			</button>
		</li>
	</ul>

	<div id="mydialog" title="URLを発行">
		URLを発行しました！<br>
		<input type="text" id="URL-Input" placeholder="URL発行中・・・" value="URL発行中・・・" readonly="readonly">
		<br><br>
		<input type="button" id="URLcopy" data-clipboard-target="#URL-Input" value="リンクをコピー"
			onclick="copyAlert()"></button>
		<br><br>
		<br>
		↑ツイート↑<br><br>
		<input type="text" id="DOMNameInput" placeholder="アイテム名…" value="アイテム名…" readonly="readonly">
		<button id="getDOMName" data-clipboard-target="#DOMNameInput">ぼたんやで</button>

		<br>
		<br>
		<br>
		<br>(Twitterの仕様上 URLの後ろに付きます)
	</div>
	<!--ダイアログの内容 ここまで-->


</body>

<script>
	$(function () {
		// ダイアログの初期設定
		$("#mydialog").dialog({
			autoOpen: false,
			width: "80%",
			modal: true,
			buttons: [
				{
					text: '閉じる',
					click: function () {
						$(this).dialog("close");
					}
				}
			],
			open: function () {
				setclip();
			}
		});

		$("#open").click(function () {
			// ダイアログの呼び出し
			$("#mydialog").dialog("open");
		});


		var clip = new ClipboardJS('#wowowowo', {
			text: function () {
				return `
		ひえええええええええええええええええええ
		いざん延暦寺
		`;
			}
		});

		console.log(clip)
		clip.on("success", function (e) {
			alert("copy")
			console.log(e)
		});

		var clipboard = new ClipboardJS('#getDOMName', {
			target: function (trigger) {
				$("#DOMNameInput").val("にゃーん")
				return document.getElementById("DOMNameInput");
			}
		}/*,{
		text: function(trigger) {
			return "をっをっををををを";
		}
	}*/);
		/*
		console.log(clipboard)
		clipboard.on('success', function (e) {
			console.info('Action:', e.action);
			console.info('Text:', e.text);
			console.info('Trigger:', e.trigger);

			e.clearSelection();
		});
		clipboard.on('error', function (e) {
			console.error('Action:', e.action);
			console.error('Trigger:', e.trigger);
		});
		*/

	})
</script>

</html>